
@model ECommerceApi.Model.Customer
@{
    ViewData["Title"] = "AddCustomer";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<body   style="background-color:lightblue">

    <div class="btn btn-warning " style="margin-left:85%">
        @Html.ActionLink("Back to List", "CustomerView")
    </div>

    <div class="card-body " style=" margin-left:30%;margin-right:30% ;background-color:steelblue; color:white">
        <h3  class="col-md-6 offset-3" style="margin-top:5%" >     Registration form </h3>
    
       

       
       @using(Html.BeginForm("AddCustomer","CustomerMvc",FormMethod.Post,new {id="Customerform"}))
        {
        
       
       <div >
         <div align="center" class="col-md-12"  >
               
               <div class=" row m-5">
                        <div class="col-md-6">Name<span style="color:red ;font-size:20px;"> * </span></div>
                        <div class="col-md-6" >
                            @Html.TextBoxFor(model=>model.Name , new { @class="form-control", required = "required" , maxlength = "20"} )
                        </div>
                    
               </div>


                <div  class="row m-5">
                        <div class="col-md-6">Contact Number <span style="color:red ;font-size:20px;"> * </span></div>
                          <div class="col-md-6">@Html.TextBoxFor(model=>model.ContactNumber, new { @class="form-control", required = "required" , maxlength = "20"}  )</div>
                 </div>
                   
                    <div class=" justify-content-center col-md-6 offset-">  <input type="submit" class="btn btn-danger" value="Submit" /></div>
                </div>
       </div>
    }



      
    </div>
    
</body>


  <script src="~/lib/jquery/dist/jquery.min.js"></script>






<script>   
    $(document).ready(function() {   
         $('#Customerform').submit(function(e) {   
             e.preventDefault();
             
             var valdata = $("#Customerform").serialize();   
            //var serializedForm = $(this).serialize();    
           // alert(valdata);   
            $.ajax({   
                url: "/CustomerMvc/AddCustomer",
                type: "POST",   
                dataType: 'json',   
                data: new FormData(Customerform),
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',   
                data: valdata,
                success: function (response) {
              
                     alert(response.message);
                
            
            },
            error: function () {
                alert("error");
            }
        
            });   

        });   
    });   
</script> 
